<!--<?xml version="1.0" encoding="UTF-8"?>-->
<!--<persistence version="2.1"-->
             <!--xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"-->
             <!--xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"-->
             <!--xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence-->
                                   <!--http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd">  -->

	<!--<persistence-unit name="ConztanzEntityManagerFactoryPrimary" transaction-type="JTA">-->
							<!---->
		<!--&lt;!&ndash; Persistence Provider &ndash;&gt;-->
		<!--<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>-->
<!--&lt;!&ndash; 		<provider>org.hibernate.ejb.HibernatePersistence</provider> &ndash;&gt;-->
		<!--&lt;!&ndash;DataSource look up via JNDI  &ndash;&gt;-->
		<!--<jta-data-source>osgi:service/javax.sql.DataSource/(osgi.jndi.service.name=ConztanzDB)</jta-data-source>-->
		<!---->
		<!--&lt;!&ndash; Entity Definition & Persistence Specificity &ndash;&gt;   -->
		<!--<exclude-unlisted-classes>true</exclude-unlisted-classes>-->
		<!---->
		<!---->
		<!--&lt;!&ndash; Hibernate / Database bridge settings &ndash;&gt;-->
		<!--<properties>            -->
			<!--&lt;!&ndash; JDBC Database Connection settings &ndash;&gt;-->
			<!--&lt;!&ndash; In JTA environment, literature says it should be defined as auto (or after_statement)-->
			     <!--so that hibernate aggressively release the connection after each statement. But the-->
			     <!--XADataSource used will instantly make it available to other hibernate sessions which-->
			     <!--would mix up transactions and connections as explain below:-->
			<!---->
			        <!--Transaction  start as T1-->
			        <!--Session start as S1-->
			        <!--S1 borrow a connection C1 from the XADataSource-->
			        <!--T1 start on C1-->
			        <!--S1 execute the statement on C1-->
			        <!--S1 give back C1 to the XADataSource (T1 still active on C1)-->
			        <!---->
			           <!--Transaction  start as T2-->
			           <!--Session start as S2-->
			           <!--S2 borrow a connection C1 from the XADataSource-->
			           <!--T2 start on C1 ...... EXCEPTION !!!-->
			<!--#######################################################################################-->
			     <!--This problem does not exist anymore as JTA process was tweaked to only release the-->
			     <!--connection to the pool when not anymore relying on an active transaction.-->
			     <!--Above comments are just left to explained problems that could occur when mixing JTA-->
			     <!--and connection pools-->
			<!--&ndash;&gt;-->
			<!--<property name="hibernate.connection.release_mode"   value="auto"/>-->
		<!---->
			<!--&lt;!&ndash; Hibernate SQL Dialect setting &ndash;&gt;-->
			<!--&lt;!&ndash; As hibernate does not yet support JSONB PostgreSQL field, it has to be internally extended &ndash;&gt;-->
			<!--<property name="hibernate.dialect" value="com.conztanz.persistence.dialect.PostgreSQLConztanzDialect"/>-->
<!--&lt;!&ndash; 			<property name="hibernate.temp.use_jdbc_metadata_defaults" value="false"/> &ndash;&gt;-->
		<!---->
			<!--&lt;!&ndash; Transaction setting &ndash;&gt;-->
			<!--<property name="hibernate.current_session_context_class" value="jta"/>-->
			<!--<property name="hibernate.transaction.jta.platform"      value="com.conztanz.persistence.jta.ConztanzJtaPlatform"/>-->
		<!---->
			<!--&lt;!&ndash; Batch size settings &ndash;&gt;-->
			<!--<property name="hibernate.jdbc.batch_size" value="25"/>-->
			<!--&lt;!&ndash; Allow optimal batch and reduce dead-lock probability &ndash;&gt;-->
			<!--<property name="hibernate.order_inserts" value="true"/>-->
			<!--<property name="hibernate.order_updates" value="true"/>-->
<!--&lt;!&ndash; 			<property name="hibernate.max_fetch_depth"       value="4"/> &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="hibernate.generate_statistics"   value="true"/> &ndash;&gt;-->

<!--&lt;!&ndash; 			<property name="javax.persistence.query.timeout" value="10"/> &ndash;&gt;-->
		<!---->
			<!--&lt;!&ndash; SQL Log settings &ndash;&gt;-->
			<!--<property name="hibernate.show_sql"         value="true"/>-->
			<!--<property name="hibernate.format_sql"       value="true"/>-->
			<!--<property name="hibernate.use_sql_comments" value="false"/>-->
			<!---->
<!--&lt;!&ndash; 			<property name="jadira.usertype.databaseZone" value="UTC"/> &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="jadira.usertype.javaZone"     value="UTC"/> &ndash;&gt;-->
		<!---->
			<!--&lt;!&ndash; 2nd level cache settings &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="hibernate.cache.use_second_level_cache" value="true"/> &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="hibernate.cache.use_query_cache"        value="false"/> &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="hibernate.cache.region.factory_class"   value="org.hibernate.cache.infinispan.InfinispanRegionFactory"/> &ndash;&gt;-->
<!--&lt;!&ndash; 			<property name="hibernate.cache.use_structured_entries" value="true"/> &ndash;&gt;-->
		<!--</properties>-->
	<!--</persistence-unit>-->
<!--</persistence>-->